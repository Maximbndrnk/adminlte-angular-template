<div class="container">
<div class="row">

  <form [formGroup]="form"
        class="needs-validation p-3 col" novalidate>
    <!-- Name -->
    <div class="mb-3">
      <label for="name" class="form-label">Name</label>
      <input
        type="text"
        id="name"
        class="form-control"
        formControlName="name"
        [class.is-invalid]="form.get('name')?.invalid && form.get('name')?.touched"
        required
      />
      <div class="invalid-feedback">Name is required.</div>
    </div>

    <!-- Phone -->
    <div class="mb-3">
      <label for="phone" class="form-label">Phone</label>
      <input
        type="tel"
        id="phone"
        class="form-control"
        formControlName="phone"
        [class.is-invalid]="form.get('phone')?.invalid && form.get('phone')?.touched"
        required
      />
      <div class="invalid-feedback">Phone is required.</div>
    </div>

    <!-- Email -->
    <div class="mb-3">
      <label for="email" class="form-label">Email</label>
      <input
        type="email"
        id="email"
        class="form-control"
        formControlName="email"
        [class.is-invalid]="form.get('email')?.invalid && form.get('email')?.touched"
        required
      />
      <div class="invalid-feedback">Please provide a valid email.</div>
    </div>

    <!-- Holding -->
    <div class="mb-3">
      <label for="holding" class="form-label">Holding</label>
      <input
        type="text"
        id="holding"
        class="form-control"
        formControlName="holding"
      />
    </div>

    <!-- Services (Checkbox) -->
    <div class="mb-3">
      <label class="form-label">Services</label>
      <div *ngFor="let service of services">
        <div class="form-check">
          <input
            type="checkbox"
            [id]="service"
            [formControlName]="'services_' + service"
            class="form-check-input"
          />
          <label [for]="service" class="form-check-label">{{ service }}</label>
        </div>
      </div>
    </div>

    <!-- Language (Select) -->
    <div class="mb-3">
      <label for="language" class="form-label">Language</label>
      <select
        id="language"
        class="form-select"
        formControlName="language"
        required
      >
        <option value="" disabled selected>Select a language</option>
        <option *ngFor="let lang of languages" [value]="lang">{{ lang }}</option>
      </select>
      <div class="invalid-feedback">Please select a language.</div>
    </div>

    <!-- Validate Type (Select) -->
    <div class="mb-3">
      <label for="validateType" class="form-label">Validate Type</label>
      <select
        id="validateType"
        class="form-select"
        formControlName="validateType"
        required
      >
        <option value="" disabled selected>Select validation type</option>
        <option *ngFor="let type of validateTypes" [value]="type">{{ type }}</option>
      </select>
      <div class="invalid-feedback">Please select a validation type.</div>
    </div>

    <!-- Block User (Checkbox) -->
    <div class="mb-3 form-check">
      <input
        type="checkbox"
        id="blockUser"
        class="form-check-input"
        formControlName="blockUser"
      />
      <label for="blockUser" class="form-check-label">Block User</label>
    </div>

    <!-- Submit Button -->
    <button type="button"
            class="btn btn-primary"
            [disabled]="form.invalid"
            (click)="submitForm()">Submit
    </button>

    <p>
      {{ form.getRawValue() | json }}
    </p>
  </form>

  <div class="mt-4 col">
    <h2>Users List</h2>
    <table class="table table-striped table-bordered">
      <thead>
      <tr>
        <th scope="col">ID</th>
        <th scope="col">Name</th>
        <th scope="col">Email</th>
      </tr>
      </thead>
      <tbody>
      <!-- Дані списку користувачів будуть заповнюватися динамічно -->
      <tr *ngFor="let user of users">
        <td>{{ user.id }}</td>
        <td>{{ user.name }}</td>
        <td>{{ user.email }}</td>
      </tr>
      </tbody>
    </table>
  </div>

</div>
</div>
